{
    "sourceFile": "src/main/resources/templates/user/checkout.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1652394896436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1652394946096,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,38 +133,38 @@\n             <div class=\"col-lg-8\">\r\n               <h3>Billing Details</h3>\r\n               <form class=\"row contact_form\" action=\"@{/checkout}\" th:object=\"${orderInfo}\" method=\"post\" novalidate=\"novalidate\">\r\n                 <div class=\"col-md-6 form-group p_star\">\r\n-                  <input type=\"text\" class=\"form-control\" id=\"first\" name=\"name\" th:field=\"{f_name}\"/>\r\n+                  <input type=\"text\" class=\"form-control\" id=\"first\" name=\"name\" th:field=\"*{first_name}\"/>\r\n                   <span class=\"placeholder\" data-placeholder=\"First name\"></span>\r\n                 </div>\r\n                 <div class=\"col-md-6 form-group p_star\">\r\n-                  <input type=\"text\" class=\"form-control\" id=\"last\" name=\"name\" th:field=\"{l_name}\" />\r\n+                  <input type=\"text\" class=\"form-control\" id=\"last\" name=\"name\" th:field=\"*{l_name}\" />\r\n                   <span class=\"placeholder\" data-placeholder=\"Last name\"></span>\r\n                 </div>\r\n                 <div class=\"col-md-6 form-group p_star\">\r\n-                  <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" th:field=\"{phone}\" />\r\n+                  <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" th:field=\"*{phone}\" />\r\n                   <span class=\"placeholder\" data-placeholder=\"Phone number\"></span>\r\n                 </div>\r\n                 <div class=\"col-md-6 form-group p_star\">\r\n-                  <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" th:field=\"{email}\" />\r\n+                  <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" th:field=\"*{email}\" />\r\n                   <span class=\"placeholder\" data-placeholder=\"Email Address\"></span>\r\n                 </div>\r\n                 <div class=\"col-md-12 form-group p_star\">\r\n-                  <input type=\"text\" class=\"form-control\" id=\"country\" name=\"country\" th:field=\"{country}\" />\r\n+                  <input type=\"text\" class=\"form-control\" id=\"country\" name=\"country\" th:field=\"*{country}\" />\r\n                   <span class=\"placeholder\" data-placeholder=\"Country\"></span>\r\n                 </div>\r\n \r\n                 <div class=\"col-md-12 form-group p_star\">\r\n-                  <input type=\"text\" class=\"form-control\" id=\"city\" name=\"city\" th:field=\"{city}\" />\r\n+                  <input type=\"text\" class=\"form-control\" id=\"city\" name=\"city\" th:field=\"*{city}\" />\r\n                   <span class=\"placeholder\" data-placeholder=\"Town/City\"></span>\r\n                 </div>\r\n                 <div class=\"col-md-12 form-group p_star\">\r\n-                  <input type=\"text\" class=\"form-control\" id=\"address\" name=\"address\" th:field=\"{address}\" />\r\n+                  <input type=\"text\" class=\"form-control\" id=\"address\" name=\"address\" th:field=\"*{address}\" />\r\n                   <span class=\"placeholder\" data-placeholder=\"Address\"></span>\r\n                 </div>\r\n                 <div class=\"col-md-12 form-group\">\r\n-                  <input type=\"text\" class=\"form-control\" id=\"zip\" name=\"zip\" placeholder=\"Postcode/ZIP\"  th:field=\"{zip}\"/>\r\n+                  <input type=\"text\" class=\"form-control\" id=\"zip\" name=\"zip\" placeholder=\"Postcode/ZIP\"  th:field=\"*{zip}\"/>\r\n                 </div>\r\n                 <div class=\"col-md-12 form-group\">\r\n                   <textarea class=\"form-control\" name=\"message\" id=\"message\" rows=\"1\"\r\n                     placeholder=\"Order Notes\"></textarea>\r\n"
                }
            ],
            "date": 1652394896436,
            "name": "Commit-0",
            "content": "<!DOCTYPE html SYSTEM \"http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:th=\"http://www.thymeleaf.org\"\r\n      xmlns:sec=\"http://www.thymeleaf.org\">\r\n\r\n<head>\r\n  <!-- Required meta tags -->\r\n  <meta charset=\"utf-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\r\n  <title>TMA Shop - Sản phẩm</title>\r\n  <link rel=\"icon\" th:href=\"@{/img/favicon.png}\" href=\"../static/img/favicon.png\" />\r\n  <!-- Bootstrap CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/bootstrap.min.css}\" href=\"../static/css/bootstrap.min.css\" />\r\n  <!-- animate CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/animate.css}\" href=\"../static/css/animate.css\" />\r\n  <!-- owl carousel CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/owl.carousel.min.css}\" href=\"../static/css/owl.carousel.min.css\" />\r\n  <!-- nice select CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/nice-select.css}\" href=\"../static/css/nice-select.css\">\r\n  <!-- font awesome CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/all.css}\" href=\"../static/css/all.css\" />\r\n  <!-- flaticon CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/flaticon.css}\" href=\"../static/css/flaticon.css\" />\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/themify-icons.css}\" href=\"../static/css/themify-icons.css\" />\r\n  <!-- font awesome CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/magnific-popup.css}\" href=\"../static/css/magnific-popup.css\" />\r\n  <!-- swiper CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/slick.css}\" href=\"../static/css/slick.css\" />\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/price_rangs.css}\" href=\"../static/css/price_rangs.css\" />\r\n  <!-- style CSS -->\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/style.css}\" href=\"../static/css/style.css\" />\r\n  <link rel=\"stylesheet\" th:href=\"@{/css/scroll.css}\" href=\"../static/css/scroll.css\" />\r\n</head>\r\n\r\n<body>\r\n<!--::header part start::-->\r\n<header class=\"main_menu home_menu\">\r\n  <div class=\"container\">\r\n    <div class=\"row align-items-center\">\r\n      <div class=\"col-lg-12\">\r\n        <nav class=\"navbar navbar-expand-lg navbar-light\">\r\n          <a class=\"navbar-brand\" th:href=\"@{/}\" href=\"index.html\">\r\n            <img th:src=\"@{/img/logo.png}\" src=\"../static/img/logo.png\" alt=\"logo\" />\r\n          </a>\r\n          <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\"\r\n                  aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span class=\"menu_icon\"><i class=\"fas fa-bars\"></i></span>\r\n          </button>\r\n          \r\n          <div class=\"collapse navbar-collapse main-menu-item\" id=\"navbarSupportedContent\">\r\n            <ul class=\"navbar-nav\">\r\n              <li class=\"nav-item\">\r\n                <a class=\"nav-link\" th:href=\"@{/products}\" href=\"productList.html\">Sản\r\n                  phẩm</a>\r\n              </li>\r\n              <li class=\"nav-item\">\r\n                <a class=\"nav-link\" th:href=\"@{/blog}\" href=\"blog.html\">Cập nhật</a>\r\n              </li>\r\n              <li class=\"nav-item\">\r\n                <a class=\"nav-link\" th:href=\"@{/about}\" href=\"about.html\">Giới thiệu</a>\r\n              </li>\r\n              <li class=\"nav-item\">\r\n                <a class=\"nav-link\" th:href=\"@{/contact}\" href=\"contact.html\">Liên hệ</a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"hearer_icon d-flex\">\r\n            <a id=\"search_1\" href=\"javascript:void(0)\"><i class=\"ti-search\"></i></a>\r\n            <div class=\"cart\">\r\n              <a href=\"/cart\">\r\n                <i class=\"fas fa-cart-plus\"></i>\r\n                <span th:fragment=\"cart_frag\"> <span id=\"numberCart\">0</span></span>\r\n              </a>\r\n            </div>\r\n            <div class=\"dropdown customer\">\r\n              <p id=\"loginout\" style=\"color: white; display: flex; align-items:center; justify-content: center; \" sec:authorize=\"isAnonymous()\"> <a class=\"nav-link\" href=\"/login\">Đăng nhập</a> / <a class=\"nav-link\" href=\"/register\">Đăng ký</a></p>\r\n              <a sec:authorize=\"isAuthenticated()\" class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown_1\"\r\n                 role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" style=\"display: flex; justify-content: center; align-items: center;\">\r\n                <p style=\"color: white;\">\r\n                  Xin chào,\r\n                  <span th:text=\"${#authentication.getPrincipal().getFullName()}\"></span>\r\n                  <span style=\"display: none;\" id=\"useremail\" th:text=\"${#authentication.getPrincipal().getEmail()}\"></span>\r\n                </p>\r\n              </a>\r\n              <div sec:authorize=\"isAuthenticated()\" class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown_1\" style=\"display: block; width: 220px;\">\r\n                <a th:href=\"@{/profile}\" href=\"user/profile.html\" class=\"dropdown-item\">Profile</a>\r\n                <a th:href=\"@{/wishlist}\" href=\"user/wishList.html\" class=\"dropdown-item\">Sản phẩm\r\n                  đã thích</a>\r\n                <a th:href=\"@{/logout}\" href=\"index.html\" class=\"dropdown-item\">Đăng\r\n                  xuất</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"search_input\" id=\"search_input_box\">\r\n    <div class=\"container \">\r\n      <form class=\"d-flex justify-content-between search-inner\" th:action=\"@{/products/search}\" th:method=\"get\">\r\n        <input type=\"text\" class=\"form-control\" id=\"search_input\" placeholder=\"Tìm kiếm\" th:name=\"keyword\" th:value=\"${keyword}\">\r\n        <button type=\"submit\" class=\"btn\"></button>\r\n        <span class=\"ti-close\" id=\"close_search\" title=\"Close Search\"></span>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</header>\r\n<!-- Header part end-->\r\n\r\n    <!--================Home Banner Area =================-->\r\n    <!-- breadcrumb start-->\r\n    <section class=\"breadcrumb breadcrumb_bg\">\r\n      <div class=\"container\">\r\n        <div class=\"row justify-content-center\">\r\n          <div class=\"col-lg-8\">\r\n            <div class=\"breadcrumb_iner\">\r\n              <div class=\"breadcrumb_iner_item\">\r\n                <h2>Products Checkout</h2>\r\n                <p>Home <span>-</span> Shop Single</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <!-- breadcrumb start-->\r\n\r\n    <!--================Checkout Area =================-->\r\n    <section class=\"checkout_area padding_top\">\r\n      <div class=\"container\">\r\n        <div class=\"billing_details\">\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-8\">\r\n              <h3>Billing Details</h3>\r\n              <form class=\"row contact_form\" action=\"@{/checkout}\" th:object=\"${orderInfo}\" method=\"post\" novalidate=\"novalidate\">\r\n                <div class=\"col-md-6 form-group p_star\">\r\n                  <input type=\"text\" class=\"form-control\" id=\"first\" name=\"name\" th:field=\"{f_name}\"/>\r\n                  <span class=\"placeholder\" data-placeholder=\"First name\"></span>\r\n                </div>\r\n                <div class=\"col-md-6 form-group p_star\">\r\n                  <input type=\"text\" class=\"form-control\" id=\"last\" name=\"name\" th:field=\"{l_name}\" />\r\n                  <span class=\"placeholder\" data-placeholder=\"Last name\"></span>\r\n                </div>\r\n                <div class=\"col-md-6 form-group p_star\">\r\n                  <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" th:field=\"{phone}\" />\r\n                  <span class=\"placeholder\" data-placeholder=\"Phone number\"></span>\r\n                </div>\r\n                <div class=\"col-md-6 form-group p_star\">\r\n                  <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" th:field=\"{email}\" />\r\n                  <span class=\"placeholder\" data-placeholder=\"Email Address\"></span>\r\n                </div>\r\n                <div class=\"col-md-12 form-group p_star\">\r\n                  <input type=\"text\" class=\"form-control\" id=\"country\" name=\"country\" th:field=\"{country}\" />\r\n                  <span class=\"placeholder\" data-placeholder=\"Country\"></span>\r\n                </div>\r\n\r\n                <div class=\"col-md-12 form-group p_star\">\r\n                  <input type=\"text\" class=\"form-control\" id=\"city\" name=\"city\" th:field=\"{city}\" />\r\n                  <span class=\"placeholder\" data-placeholder=\"Town/City\"></span>\r\n                </div>\r\n                <div class=\"col-md-12 form-group p_star\">\r\n                  <input type=\"text\" class=\"form-control\" id=\"address\" name=\"address\" th:field=\"{address}\" />\r\n                  <span class=\"placeholder\" data-placeholder=\"Address\"></span>\r\n                </div>\r\n                <div class=\"col-md-12 form-group\">\r\n                  <input type=\"text\" class=\"form-control\" id=\"zip\" name=\"zip\" placeholder=\"Postcode/ZIP\"  th:field=\"{zip}\"/>\r\n                </div>\r\n                <div class=\"col-md-12 form-group\">\r\n                  <textarea class=\"form-control\" name=\"message\" id=\"message\" rows=\"1\"\r\n                    placeholder=\"Order Notes\"></textarea>\r\n                </div>\r\n                <button type=\"submit\" class=\"btn_3\"> Thanh toán khi nhận hàng</button>\r\n              </form>\r\n            </div>\r\n            <div class=\"col-lg-4\">\r\n              <div class=\"order_box\">\r\n                <h2>Your Order</h2>\r\n                <ul class=\"list\">\r\n                  <li>\r\n                    <a href=\"#\">Sản phẩm\r\n                      <span>Thành tiền</span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#abc\">\r\n                      <span style=\"float: left; width: 180px;max-width: 180px;\">Sản phẩm</span>\r\n                      <span class=\"middle\">x 02</span>\r\n                      <span class=\"last\">$720.00</span>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n                <ul class=\"list list_2\">\r\n                  <li>\r\n                    <a href=\"#\">Subtotal\r\n                      <span>$2160.00</span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\">Shipping\r\n                      <span>Flat rate: $50.00</span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\">Total\r\n                      <span>$2210.00</span>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n                <div class=\"payment_item\">\r\n                  <div class=\"radion_btn\">\r\n<!--                    <input type=\"radio\" id=\"f-option5\" name=\"selector\" />-->\r\n                    <label>Check payments</label>\r\n<!--                    <div class=\"check\"></div>-->\r\n                  </div>\r\n                  <p>\r\n                    Please send a check to Store Name, Store Street, Store Town,\r\n                    Store State / County, Store Postcode.\r\n                  </p>\r\n                </div>\r\n                <div class=\"payment_item active\">\r\n                  <div class=\"radion_btn\">\r\n<!--                    <input type=\"radio\" id=\"f-option6\" name=\"selector\" />-->\r\n                    <label>Paypal </label>\r\n                    <img src=\"../../static/img/product/single-product/card.jpg\" alt=\"\" />\r\n<!--                    <div class=\"check\"></div>-->\r\n                  </div>\r\n                  <p>\r\n                    Please send a check to Store Name, Store Street, Store Town,\r\n                    Store State / County, Store Postcode.\r\n                  </p>\r\n                </div>\r\n\r\n                <a class=\"btn_3\" th:href=\"@{/paypalCheckout}\">Thanh toán bằng Paypal</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <!--================End Checkout Area =================-->\r\n\r\n    <!--::footer_part start::-->\r\n    <footer class=\"footer_part\">\r\n      <div class=\"copyright_part\">\r\n        <div class=\"container\">\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-8\">\r\n              <div class=\"copyright_text\">\r\n                <p>\r\n                  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->\r\n                  Copyright &copy;\r\n                  <script>\r\n                    document.write(new Date().getFullYear());\r\n                  </script>\r\n                  All rights reserved | This template is used with\r\n                  <i class=\"ti-heart\" aria-hidden=\"true\"></i> by\r\n                  <a href=\"https://www.facebook.com/tung.buivan.sfer.11235/\" target=\"_blank\">Tungsfer</a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-lg-4\">\r\n              <div class=\"footer_icon social_icon\">\r\n                <ul class=\"list-unstyled\">\r\n                  <li>\r\n                    <a href=\"#\" class=\"single_social_icon\"><i class=\"fab fa-facebook-f\"></i></a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\" class=\"single_social_icon\"><i class=\"fab fa-twitter\"></i></a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\" class=\"single_social_icon\"><i class=\"fas fa-globe\"></i></a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\" class=\"single_social_icon\"><i class=\"fab fa-behance\"></i></a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n    <!--::footer_part end::-->\r\n\r\n\r\n<!-- jquery plugins here-->\r\n<script th:src=\"@{/js/jquery-1.12.1.min.js}\" src=\"../static/js/jquery-1.12.1.min.js\"></script>\r\n<!-- popper js -->\r\n<script th:src=\"@{/js/popper.min.js}\" src=\"../static/js/popper.min.js\"></script>\r\n<!-- bootstrap js -->\r\n<script th:src=\"@{/js/bootstrap.min.js}\" src=\"../static/js/bootstrap.min.js\"></script>\r\n<!-- easing js -->\r\n<script th:src=\"@{/js/jquery.magnific-popup.js}\" src=\"../static/js/jquery.magnific-popup.js\"></script>\r\n<!-- swiper js -->\r\n<script th:src=\"@{/js/swiper.min.js}\" src=\"../static/js/swiper.min.js\"></script>\r\n<!-- swiper js -->\r\n<script th:src=\"@{/js/masonry.pkgd.js}\" src=\"../static/js/masonry.pkgd.js\"></script>\r\n<!-- particles js -->\r\n<script th:src=\"@{/js/owl.carousel.min.js}\" src=\"../static/js/owl.carousel.min.js\"></script>\r\n<script th:src=\"@{/js/jquery.nice-select.min.js}\" src=\"../static/js/jquery.nice-select.min.js\"></script>\r\n<!-- slick js -->\r\n<script th:src=\"@{/js/slick.min.js}\" src=\"../static/js/slick.min.js\"></script>\r\n<script th:src=\"@{/js/jquery.counterup.min.js}\" src=\"../static/js/jquery.counterup.min.js\"></script>\r\n<script th:src=\"@{/js/waypoints.min.js}\" src=\"../static/js/waypoints.min.js\"></script>\r\n<script th:src=\"@{/js/contact.js}\" src=\"../static/js/contact.js\"></script>\r\n<script th:src=\"@{/js/jquery.ajaxchimp.min.js}\" src=\"../static/js/jquery.ajaxchimp.min.js\"></script>\r\n<script th:src=\"@{/js/jquery.form.js}\" src=\"../static/js/jquery.form.js\"></script>\r\n<script th:src=\"@{/js/jquery.validate.min.js}\" src=\"../static/js/jquery.validate.min.js\"></script>\r\n<script th:src=\"@{/js/mail-script.js}\" src=\"../static/js/mail-script.js\"></script>\r\n<!-- custom js -->\r\n<script th:src=\"@{/js/stellar.js}\" src=\"../static/js/stellar.js\"></script>\r\n<script th:src=\"@{/js/price_rangs.js}\" src=\"../static/js/price_rangs.js\"></script>\r\n<!-- custom js -->\r\n<script th:src=\"@{/js/custom.js}\" src=\"../static/js/custom.js\"></script>\r\n<!--  <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>-->\r\n<script>\r\n  $(\"document\").ready(function () {\r\n    var user_id ;\r\n    var user_email = $(\"#useremail\").text();\r\n    console.log(user_email);\r\n    $.get(\"/apis/getUserIdByEmail/\" + user_email ).done(function (xxxid) {\r\n      user_id = xxxid;\r\n      console.log(user_id);\r\n      if($(\"#loginout\").length > 0) {\r\n        console.log(\"not login\");\r\n      } else {\r\n        console.log(\"login\");\r\n        $.get(\"/apis/countcart/\" + user_id).done(function (fragment) {\r\n          console.log(fragment);\r\n          $(\"#numberCart\").html(fragment);\r\n        });\r\n      }\r\n      $(\".addToWishList\").click(function (e){\r\n        var product_id = e.target.parentElement.firstElementChild.textContent;\r\n        $.post(\"/addToWishList/\" + product_id).done(function () {\r\n          alert(\"đã thêm vào danh sách yêu thích\");\r\n        });\r\n      });\r\n      $(\".clickme\").click(function (e) {\r\n        console.log(e.target);\r\n        var product_id = e.target.parentElement.firstElementChild.textContent;\r\n        console.log(product_id);\r\n        $.post(\"/addToCart/\" + product_id).done(function (fragment) {\r\n          console.log(fragment);\r\n          $.get(\"/apis/countcart/\" + user_id).done(function (fragment) {\r\n            console.log(fragment);\r\n            $(\"#numberCart\").html(fragment);\r\n          });\r\n        });\r\n      });\r\n    });\r\n  });\r\n</script>\r\n\r\n</body>\r\n\r\n</html>"
        }
    ]
}